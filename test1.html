<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="utf-8">
    <title>TEST 1 - Kiến thức Web cơ bản</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;700&family=Lobster&display=swap" rel="stylesheet">
</head>
<body>
    <div id="main-container">
        <div id="top"></div>
        
        <div id="middle">
            <div id="left"></div>
            
            <div id="center">
                <p class="content-header">TEST 1 - Kiến thức Web cơ bản</p>
                <div class="content-text">
                    <form id="quizForm">
                        <h3>Question for TEST 1</h3>
                        
                        <p>Please select your favorite Web language:</p>
                        <label>
                            <input type="radio" name="web_language" value="html"> HTML
                        </label><br>
                        <label>
                            <input type="radio" name="web_language" value="css"> CSS
                        </label><br>
                        <label>
                            <input type="radio" name="web_language" value="javascript"> JavaScript
                        </label><br>

                        <p style="margin-top: 20px;">Please select your age:</p>
                        <label>
                            <input type="radio" name="age_group" value="0-30"> 0 - 30
                        </label><br>
                        <label>
                            <input type="radio" name="age_group" value="31-60"> 31 - 60
                        </label><br>
                        <label>
                            <input type="radio" name="age_group" value="61-100"> 61 - 100
                        </label><br>
                        
                        <button type="submit" style="margin-top: 20px; padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">Submit</button>
                    </form>
                    <div id="quizResult" style="margin-top: 20px; font-weight: bold;"></div>
                </div>
            </div>
        </div>
        
        <div id="bottom"></div>
    </div>
<script>
    async function loadCommonElements() {
        const headerResponse = await fetch('common_header.html');
        document.getElementById('top').innerHTML = await headerResponse.text();

        const navResponse = await fetch('common_navigation_bai2.html');
        document.getElementById('left').innerHTML = await navResponse.text();

        const footerResponse = await fetch('common_footer.html');
        document.getElementById('bottom').innerHTML = await footerResponse.text();

        // After loading common elements, apply navigation highlighting
        let currentPath = window.location.pathname.split('/').pop();
        if (currentPath === '') {
            currentPath = 'index.html';
        }
        const navLinks = document.querySelectorAll('#left ul li a');

        navLinks.forEach(link => {
            const linkPath = link.getAttribute('href');
            if (currentPath === linkPath || (currentPath.startsWith('example') && currentPath.endsWith('.html') && linkPath === 'example_list.html') || (currentPath.startsWith('test') && currentPath.endsWith('.html') && linkPath === 'quiz_list.html') || (currentPath.startsWith('form_lop.html') && linkPath === 'form_lop.html') || (currentPath.startsWith('form_hoso.html') && linkPath === 'form_hoso.html')) {
                link.classList.add('active');
            } else {
                link.classList.remove('active');
            }
        });

        // Quiz form submission handler
        const quizForm = document.getElementById('quizForm');
        const quizResult = document.getElementById('quizResult');

        quizForm.addEventListener('submit', function(event) {
            event.preventDefault();
            
            let webLanguage = quizForm.elements['web_language'].value;
            let ageGroup = quizForm.elements['age_group'].value;

            if (!webLanguage || !ageGroup) {
                quizResult.style.color = 'red';
                quizResult.innerHTML = "Vui lòng chọn cả ngôn ngữ web yêu thích và nhóm tuổi của bạn trước khi gửi!";
            } else {
                quizResult.style.color = 'green';
                quizResult.innerHTML = `Bạn đã chọn ngôn ngữ web yêu thích là: <b>${webLanguage.toUpperCase()}</b> và nhóm tuổi: <b>${ageGroup}</b>.`;
            }
        });
    }

    document.addEventListener('DOMContentLoaded', loadCommonElements);
</script>
</body>
</html>
